#!/bin/sh

if [ $# -eq 0 ]; then
	echo 'Usage: init [bash|bat|git|hammerspoon|prettier|tmux|vim|zsh] ...'
else
	DOTFILES="~${PWD#$HOME}"
	for i do
		case "$i" in
			bash )
				echo "source $DOTFILES/.bashrc" >> $HOME/.bashrc
				;;
			bat )
				mkdir -p $(dirname $(bat --config-file))
				cp $PWD/bat/bat.conf $(bat --config-file)
				;;
			git )
				git config --global include.path "$DOTFILES/.gitconfig"
				;;
			hammerspoon )
				mkdir -p $HOME/.hammerspoon/
				echo "dofile('..${PWD#$HOME}/hammerspoon.lua')" >> $HOME/.hammerspoon/init.lua
				;;
			prettier )
				cp $PWD/.prettierrc $HOME
				;;
			tmux )
				[ ! -d $HOME/.tmux/plugins/tpm ] && git clone https://github.com/tmux-plugins/tpm $HOME/.tmux/plugins/tpm
				echo "source-file $DOTFILES/.tmux.conf" >> $HOME/.tmux.conf
				;;
			vim )
				echo "source $DOTFILES/.vimrc" >> $HOME/.vimrc
				;;
			zsh )
				echo "source $DOTFILES/.zshrc" >> $HOME/.zshrc
				;;
			* )
				echo "Unrecognized: $i"
				;;
		esac
	done
fi
